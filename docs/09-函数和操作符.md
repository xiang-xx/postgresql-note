# 09-函数和操作符（Operators）

使用 \df \do 指令可以查看所有的 function 和 operator
```sql
\df repeat -- 查看 repeat 函数
```

## 逻辑操作符

- AND
- OR
- NOT

## 比较函数，操作符

- <, >, <=, >=, =, <>, !=
- BETWEEN: 2 BETWEEN 1 AND 3
  - 2 BETWEEN SYMMETRIC 3 AND 1 会先排序，跟 1->3 相同，不带 SYMMETRIC 是 false
- NOT BETWEEN
- IS [NOT] DISTINCT FROM
- IS [NOT] NULL, ISNULL NOTNULL
- boolean IS [NOT] TRUE|FALSE 
- boolean is [NOT] UNKNOWN -- 判断是否为 NULL
- num_nonnulls(1, NULL, 2) -- 2，2 个非 NULL
- num_nulls(1, NULL, 2) -- 1

## 数学函数和操作符

- “+ - * / %”
- ^ 次方
- |/25 -- 5 平方根
- ||/ 64 -- 4 立方根
- @ -5 -- 5 绝对值
- & | ~ #(异或)
- << >> 按位移

数学函数
- abs  -- 绝对值
- cbrt(64)  -- 4, 立方根
- ceil/ceiling
- degress(0.5) -- 28.647  把弧度转为度
- div
- exp  -- e 的次方
- factorial -- 阶乘
- floor
- gcd(n1, n2) -- 最大公约数
- lcm(n1, n2) -- 最小公倍数
- ln(numeric/double) -- 自然对数
- log10/log(2, 64) -- 6
- min_scale -- 小数位数，不包含后面的 0
- mod
- pi() -- 3.141592653
- power
- radians  -- 角度转弧度
- round
- scale -- 小数位数，包含 0
- sign -- 正负号，返回 0 -1 1
- sqrt
- trim_scale -- 移除小数的 0
- trunc(n)/trunc(v, s)  -- 取消小数位，保留整数；取消小数位的数量
- width_bucket  -- 数据构成的直方图 bucket 的数量

随机函数
- random
- setseed

三角函数（d 返回角度，不带 d 返回弧度）
- acos/acosd
- asin/asind
- atan/atand
- atan2/atan2
- cos/cosd
- cot/cotd
- sin/sind
- tan/tand

双曲线
- sinh
- cosh
- tanh
- asinh
- acosh
- atanh

## 字符串函数和操作符

函数的参数一般是 text，char 一般需要转为 text 才能使用。

- || 字符串拼接， text || anynonarray
- text IS [NOT] [from] NORMALIZED  -- 检查编码
- bit_length

